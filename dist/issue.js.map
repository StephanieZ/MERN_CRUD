{"version":3,"sources":["../server/issue.js"],"names":["validIssueStatus","New","Open","Assigned","Fixed","Verified","Closed","issueFieldType","status","owner","effort","created","completionDate","title","cleanupIssue","issue","cleanedUpIssue","Object","keys","forEach","field","validateIssue","errors","push","length","join"],"mappings":";;;;;;AACA,MAAMA,mBAAmB;AACrBC,OAAK,IADgB;AAErBC,QAAM,IAFe;AAGrBC,YAAU,IAHW;AAIrBC,SAAO,IAJc;AAKrBC,YAAU,IALW;AAMrBC,UAAQ;AANa,CAAzB;;AASE,MAAMC,iBAAiB;AACrBC,UAAQ,UADa;AAErBC,SAAO,UAFc;AAGrBC,UAAQ,UAHa;AAIrBC,WAAS,UAJY;AAKrBC,kBAAgB,UALK;AAMrBC,SAAO;AANc,CAAvB;;AASA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAMC,iBAAiB,EAAvB;AACAC,SAAOC,IAAP,CAAYH,KAAZ,EAAmBI,OAAnB,CAA2BC,SAAS;AAClC,QAAIb,eAAea,KAAf,CAAJ,EAA2BJ,eAAeI,KAAf,IAAwBL,MAAMK,KAAN,CAAxB;AAC5B,GAFD;AAGA,SAAOJ,cAAP;AACD;;AAED,SAASK,aAAT,CAAuBN,KAAvB,EAA8B;AAC5B,QAAMO,SAAS,EAAf;AACAL,SAAOC,IAAP,CAAYX,cAAZ,EAA4BY,OAA5B,CAAoCC,SAAS;AAC3C,QAAIb,eAAea,KAAf,MAA0B,UAA1B,IAAwC,CAACL,MAAMK,KAAN,CAA7C,EAA2D;AACzDE,aAAOC,IAAP,CAAa,4BAA2BH,KAAM,EAA9C;AACD;AACF,GAJD;;AAMA,MAAI,CAACpB,iBAAiBe,MAAMP,MAAvB,CAAL,EAAqC;AACnCc,WAAOC,IAAP,CAAa,GAAER,MAAMP,MAAO,yBAA5B;AACD;;AAED,SAAQc,OAAOE,MAAP,GAAgBF,OAAOG,IAAP,CAAY,IAAZ,CAAhB,GAAoC,IAA5C;AACD;;kBAEc;AACbJ,8BADa;AAEbP;AAFa,C","file":"issue.js","sourcesContent":["\r\nconst validIssueStatus = {\r\n    New: true,\r\n    Open: true,\r\n    Assigned: true,\r\n    Fixed: true,\r\n    Verified: true,\r\n    Closed: true,\r\n  };\r\n  \r\n  const issueFieldType = {\r\n    status: 'required',\r\n    owner: 'required',\r\n    effort: 'optional',\r\n    created: 'required',\r\n    completionDate: 'optional',\r\n    title: 'required',\r\n  };\r\n  \r\n  function cleanupIssue(issue) {\r\n    const cleanedUpIssue = {};\r\n    Object.keys(issue).forEach(field => {\r\n      if (issueFieldType[field]) cleanedUpIssue[field] = issue[field];\r\n    });\r\n    return cleanedUpIssue;\r\n  }\r\n\r\n  function validateIssue(issue) {\r\n    const errors = [];\r\n    Object.keys(issueFieldType).forEach(field => {\r\n      if (issueFieldType[field] === 'required' && !issue[field]) {\r\n        errors.push(`Missing mandatory field: ${field}`);\r\n      }\r\n    });\r\n  \r\n    if (!validIssueStatus[issue.status]) {\r\n      errors.push(`${issue.status} is not a valid status.`);\r\n    }\r\n  \r\n    return (errors.length ? errors.join('; ') : null);\r\n  }\r\n  \r\n  export default {\r\n    validateIssue,\r\n    cleanupIssue,\r\n  };"]}